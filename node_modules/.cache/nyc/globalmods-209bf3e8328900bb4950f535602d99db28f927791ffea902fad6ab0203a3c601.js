'use strict';function cov_j2ufx0ro9(){var path="/home/mrahmatu/project2/fall23-nodebb-generation-z/src/controllers/globalmods.js";var hash="61434c4b80d9388e0244f036d4e9925c0cbab570";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/mrahmatu/project2/fall23-nodebb-generation-z/src/controllers/globalmods.js",statementMap:{"0":{start:{line:3,column:13},end:{line:3,column:31}},"1":{start:{line:4,column:13},end:{line:4,column:31}},"2":{start:{line:5,column:18},end:{line:5,column:41}},"3":{start:{line:6,column:24},end:{line:6,column:48}},"4":{start:{line:7,column:16},end:{line:7,column:36}},"5":{start:{line:9,column:29},end:{line:9,column:43}},"6":{start:{line:11,column:0},end:{line:27,column:2}},"7":{start:{line:12,column:31},end:{line:12,column:69}},"8":{start:{line:13,column:4},end:{line:15,column:5}},"9":{start:{line:14,column:8},end:{line:14,column:22}},"10":{start:{line:17,column:35},end:{line:20,column:6}},"11":{start:{line:21,column:4},end:{line:26,column:7}},"12":{start:{line:30,column:0},end:{line:36,column:2}},"13":{start:{line:31,column:31},end:{line:31,column:69}},"14":{start:{line:32,column:4},end:{line:34,column:5}},"15":{start:{line:33,column:8},end:{line:33,column:22}},"16":{start:{line:35,column:4},end:{line:35,column:54}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:35},end:{line:11,column:36}},loc:{start:{line:11,column:67},end:{line:27,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:41},end:{line:30,column:42}},loc:{start:{line:30,column:73},end:{line:36,column:1}},line:30}},branchMap:{"0":{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:13,column:4},end:{line:15,column:5}}],line:13},"1":{loc:{start:{line:32,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:34,column:5}},{start:{line:32,column:4},end:{line:34,column:5}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61434c4b80d9388e0244f036d4e9925c0cbab570"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_j2ufx0ro9=function(){return actualCoverage;};}return actualCoverage;}cov_j2ufx0ro9();const user=(cov_j2ufx0ro9().s[0]++,require('../user'));const meta=(cov_j2ufx0ro9().s[1]++,require('../meta'));const analytics=(cov_j2ufx0ro9().s[2]++,require('../analytics'));const usersController=(cov_j2ufx0ro9().s[3]++,require('./admin/users'));const helpers=(cov_j2ufx0ro9().s[4]++,require('./helpers'));const globalModsController=(cov_j2ufx0ro9().s[5]++,module.exports);cov_j2ufx0ro9().s[6]++;globalModsController.ipBlacklist=async function(req,res,next){cov_j2ufx0ro9().f[0]++;const isAdminOrGlobalMod=(cov_j2ufx0ro9().s[7]++,await user.isAdminOrGlobalMod(req.uid));cov_j2ufx0ro9().s[8]++;if(!isAdminOrGlobalMod){cov_j2ufx0ro9().b[0][0]++;cov_j2ufx0ro9().s[9]++;return next();}else{cov_j2ufx0ro9().b[0][1]++;}const[rules,analyticsData]=(cov_j2ufx0ro9().s[10]++,await Promise.all([meta.blacklist.get(),analytics.getBlacklistAnalytics()]));cov_j2ufx0ro9().s[11]++;res.render('ip-blacklist',{title:'[[pages:ip-blacklist]]',rules:rules,analytics:analyticsData,breadcrumbs:helpers.buildBreadcrumbs([{text:'[[pages:ip-blacklist]]'}])});};cov_j2ufx0ro9().s[12]++;globalModsController.registrationQueue=async function(req,res,next){cov_j2ufx0ro9().f[1]++;const isAdminOrGlobalMod=(cov_j2ufx0ro9().s[13]++,await user.isAdminOrGlobalMod(req.uid));cov_j2ufx0ro9().s[14]++;if(!isAdminOrGlobalMod){cov_j2ufx0ro9().b[1][0]++;cov_j2ufx0ro9().s[15]++;return next();}else{cov_j2ufx0ro9().b[1][1]++;}cov_j2ufx0ro9().s[16]++;await usersController.registrationQueue(req,res);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfajJ1Zngwcm85IiwicGF0aCIsImhhc2giLCJnbG9iYWwiLCJGdW5jdGlvbiIsImdjdiIsImNvdmVyYWdlRGF0YSIsInN0YXRlbWVudE1hcCIsInN0YXJ0IiwibGluZSIsImNvbHVtbiIsImVuZCIsImZuTWFwIiwibmFtZSIsImRlY2wiLCJsb2MiLCJicmFuY2hNYXAiLCJ0eXBlIiwibG9jYXRpb25zIiwicyIsImYiLCJiIiwiX2NvdmVyYWdlU2NoZW1hIiwiY292ZXJhZ2UiLCJhY3R1YWxDb3ZlcmFnZSIsInVzZXIiLCJyZXF1aXJlIiwibWV0YSIsImFuYWx5dGljcyIsInVzZXJzQ29udHJvbGxlciIsImhlbHBlcnMiLCJnbG9iYWxNb2RzQ29udHJvbGxlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJpcEJsYWNrbGlzdCIsInJlcSIsInJlcyIsIm5leHQiLCJpc0FkbWluT3JHbG9iYWxNb2QiLCJ1aWQiLCJydWxlcyIsImFuYWx5dGljc0RhdGEiLCJQcm9taXNlIiwiYWxsIiwiYmxhY2tsaXN0IiwiZ2V0IiwiZ2V0QmxhY2tsaXN0QW5hbHl0aWNzIiwicmVuZGVyIiwidGl0bGUiLCJicmVhZGNydW1icyIsImJ1aWxkQnJlYWRjcnVtYnMiLCJ0ZXh0IiwicmVnaXN0cmF0aW9uUXVldWUiXSwic291cmNlcyI6WyJnbG9iYWxtb2RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdXNlciA9IHJlcXVpcmUoJy4uL3VzZXInKTtcbmNvbnN0IG1ldGEgPSByZXF1aXJlKCcuLi9tZXRhJyk7XG5jb25zdCBhbmFseXRpY3MgPSByZXF1aXJlKCcuLi9hbmFseXRpY3MnKTtcbmNvbnN0IHVzZXJzQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vYWRtaW4vdXNlcnMnKTtcbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcblxuY29uc3QgZ2xvYmFsTW9kc0NvbnRyb2xsZXIgPSBtb2R1bGUuZXhwb3J0cztcblxuZ2xvYmFsTW9kc0NvbnRyb2xsZXIuaXBCbGFja2xpc3QgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBpc0FkbWluT3JHbG9iYWxNb2QgPSBhd2FpdCB1c2VyLmlzQWRtaW5Pckdsb2JhbE1vZChyZXEudWlkKTtcbiAgICBpZiAoIWlzQWRtaW5Pckdsb2JhbE1vZCkge1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cblxuICAgIGNvbnN0IFtydWxlcywgYW5hbHl0aWNzRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIG1ldGEuYmxhY2tsaXN0LmdldCgpLFxuICAgICAgICBhbmFseXRpY3MuZ2V0QmxhY2tsaXN0QW5hbHl0aWNzKCksXG4gICAgXSk7XG4gICAgcmVzLnJlbmRlcignaXAtYmxhY2tsaXN0Jywge1xuICAgICAgICB0aXRsZTogJ1tbcGFnZXM6aXAtYmxhY2tsaXN0XV0nLFxuICAgICAgICBydWxlczogcnVsZXMsXG4gICAgICAgIGFuYWx5dGljczogYW5hbHl0aWNzRGF0YSxcbiAgICAgICAgYnJlYWRjcnVtYnM6IGhlbHBlcnMuYnVpbGRCcmVhZGNydW1icyhbeyB0ZXh0OiAnW1twYWdlczppcC1ibGFja2xpc3RdXScgfV0pLFxuICAgIH0pO1xufTtcblxuXG5nbG9iYWxNb2RzQ29udHJvbGxlci5yZWdpc3RyYXRpb25RdWV1ZSA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IGlzQWRtaW5Pckdsb2JhbE1vZCA9IGF3YWl0IHVzZXIuaXNBZG1pbk9yR2xvYmFsTW9kKHJlcS51aWQpO1xuICAgIGlmICghaXNBZG1pbk9yR2xvYmFsTW9kKSB7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5yZWdpc3RyYXRpb25RdWV1ZShyZXEsIHJlcyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUMsU0FBQUEsY0FBQSxNQUFBQyxJQUFBLHdGQUFBQyxJQUFBLGdEQUFBQyxNQUFBLEtBQUFDLFFBQUEsc0JBQUFDLEdBQUEsb0JBQUFDLFlBQUEsRUFBQUwsSUFBQSxvRkFBQU0sWUFBQSxPQUFBQyxLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxVQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxVQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxZQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxZQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxZQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxPQUFBRSxLQUFBLE9BQUFDLElBQUEsaUJBQUFDLElBQUEsRUFBQU4sS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUssR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxLQUFBRCxJQUFBLFVBQUFJLElBQUEsaUJBQUFDLElBQUEsRUFBQU4sS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUssR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxLQUFBRCxJQUFBLE1BQUFPLFNBQUEsT0FBQUQsR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxLQUFBTyxJQUFBLE1BQUFDLFNBQUEsR0FBQVYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJ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